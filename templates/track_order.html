{% extends "base.html" %}
{% block content %}
<div class="max-w-xl mx-auto p-6 bg-white rounded shadow mt-8">
    <h2 class="text-2xl font-semibold mb-4">Track Order #{{ order.order_id }}</h2>

    {% if order.status in ['cancelled', 'returned'] %}
        <div class="text-red-600 font-semibold text-lg mb-4">
            Order {{ order.status | capitalize }}
        </div>
    {% else %}
        <div class="flex justify-between mb-6 text-sm font-medium text-gray-600">
            <!-- Placed -->
            <div class="flex flex-col items-center">
                <div class="w-8 h-8 rounded-full bg-green-500 text-white flex items-center justify-center">✓</div>
                <span class="mt-2">Placed</span>
            </div>

            <div class="flex-1 h-1 {{ 'bg-green-500' if order.status in ['processing','shipped','delivered'] else 'bg-gray-300' }} mt-4 mx-1"></div>

            <!-- Processing -->
            <div class="flex flex-col items-center">
                <div class="w-8 h-8 rounded-full {{ 'bg-green-500 text-white' if order.status in ['processing','shipped','delivered'] else 'bg-gray-300' }} flex items-center justify-center">2</div>
                <span class="mt-2">Processing</span>
            </div>

            <div class="flex-1 h-1 {{ 'bg-green-500' if order.status in ['shipped','delivered'] else 'bg-gray-300' }} mt-4 mx-1"></div>

            <!-- Shipped -->
            <div class="flex flex-col items-center">
                <div class="w-8 h-8 rounded-full {{ 'bg-green-500 text-white' if order.status in ['shipped','delivered'] else 'bg-gray-300' }} flex items-center justify-center">3</div>
                <span class="mt-2">Shipped</span>
            </div>

            <div class="flex-1 h-1 {{ 'bg-green-500' if order.status == 'delivered' else 'bg-gray-300' }} mt-4 mx-1"></div>

            <!-- Delivered -->
            <div class="flex flex-col items-center">
                <div class="w-8 h-8 rounded-full {{ 'bg-green-500 text-white' if order.status == 'delivered' else 'bg-gray-300' }} flex items-center justify-center">4</div>
                <span class="mt-2">Delivered</span>
            </div>
        </div>
    {% endif %}

    <!-- Status message -->
    <p class="text-gray-700 mb-4">
        Current status: <strong class="capitalize">{{ order.status }}</strong>
    </p>

    <a href="{{ url_for('order_detail', order_id=order.id) }}" class="text-blue-600 hover:underline">← Back to Order Details</a>
</div>
{% endblock %}
