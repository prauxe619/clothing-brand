{% extends "base.html" %}
{% block title %}Manage Admins{% endblock %}

{% block content %}
<div class="p-6 max-w-4xl mx-auto">
  <h2 class="text-2xl font-bold mb-4">ğŸ›  Manage Admins</h2>
  <a href="{{ url_for('admin.add_admin') }}" class="bg-blue-600 text-white px-4 py-2 rounded-md">+ Add Admin</a>
  <table class="mt-4 w-full">
    <thead>
      <tr class="text-left border-b">
        <th>Email</th>
        <th>Role</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      {% for admin in admins %}
      <tr class="border-b">
        <td>{{ admin.email }}</td>
        <td>{{ admin.role }}</td>
        <td>
          <a href="{{ url_for('admin.edit_admin', user_id=admin.id) }}" class="text-blue-600">Edit</a>
          {% if admin.role != 'superadmin' %}
          <form method="POST" action="{{ url_for('admin.delete_admin', user_id=admin.id) }}" style="display:inline;" onsubmit="return confirm('Delete this admin?');">
            <input type="hidden" name="csrf_token" value="{{ csrf_token() }}">
            <button type="submit" class="text-red-600 ml-2">Delete</button>
          </form>
          {% endif %}
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
